var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var f=0;return $jscomp.iteratorPrototype(function(){return f<a.length?{done:!1,value:a[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var f=a[Symbol.iterator];return f?f.call(a):$jscomp.arrayIterator(a)};
$jscomp.checkStringArgs=function(a,f,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};
$jscomp.polyfill=function(a,f,b,k){if(f){b=$jscomp.global;a=a.split(".");for(k=0;k<a.length-1;k++){var d=a[k];d in b||(b[d]={});b=b[d]}a=a[a.length-1];k=b[a];f=f(k);f!=k&&null!=f&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6-impl","es3");
(function(){function a(a){var n=!1;if(window.gameStarted&&!window.gameOver){if(a.target===a.currentTarget){f();var b=a.target.id.substring(1,2),e=a.target.id.substring(2,3);if(0==d[b][e][0])document.getElementById("s"+b+e).style.backgroundColor="#4d88ff",d[b][e][0]=3,document.getElementById("s"+b+e).classList.add("miss"),window.currentColor="#4d88ff",y.play();else if(1==d[b][e][0]){document.getElementById("s"+b+e).style.backgroundColor="red";d[b][e][0]=2;document.getElementById("s"+b+e).classList.add("hit");
window.currentColor="red";z.play();k++;for(var g=0,h=$jscomp.makeIterator(t),c=h.next();!c.done;c=h.next())for(var c=c.value,p=$jscomp.makeIterator(c),m=p.next();!m.done;m=p.next()){var l=m.value;if(l[0]==b&&l[1]==e)for(l=$jscomp.makeIterator(c),m=l.next();!m.done;m=l.next()){var r=m.value;2==d[r[0]][r[1]][0]&&g++;if(g==c.length){window.currentColor="darkred";for(var q=$jscomp.makeIterator(c),m=q.next();!m.done;m=q.next())m=m.value,document.getElementById("s"+m[0]+m[1]).style.backgroundColor="darkred";
document.getElementById(d[r[0]][r[1]][1]+"Sunk").classList.add("sunkText");n=!0;A.play()}}}if(17==k){document.getElementById("wintext").style.display="block";window.gameOver=!0;window.modal("YOU WIN!!!",3E3);a=window.playerWinsOnLoad()+1;window.setCookie("playerwinsBattleship",a,.25);document.getElementById("playerWins").textContent="Player Wins: "+a;return}}else if(1<d[b][e][0]){window.modal("Can't Fire Here!",1400);return}}window.sleep(200).then(function(){return B(n)});a.stopPropagation()}}function f(){for(var n=
0;10>n;n++)for(var b=0;10>b;b++)document.getElementById("s"+n+b).removeEventListener("click",a)}function b(a){var n=[],f=C[q],e=window.randomIntFromInterval(1,2),g,h;do g=window.randomIntFromInterval(0,9);while(p.includes(g));do h=window.randomIntFromInterval(0,9);while(l.includes(h));var c=0;if(1==e)if(h>=a-1){for(e=0;e<a;e++)0==d[g][h-e][0]&&c++;if(c==a){for(c=0;c<a;c++)d[g][h-c][0]=1,d[g][h-c][1]=f,n.push([g,h-c]);p.push(g);l.push(h)}else b(a)}else{for(e=0;e<a;e++)0==d[g][h+e][0]&&c++;if(c==a){for(c=
0;c<a;c++)d[g][h+c][0]=1,d[g][h+c][1]=f,n.push([g,h+c]);p.push(g);l.push(h)}else b(a)}else if(g>=a-1){for(e=0;e<a;e++)0==d[g-e][h][0]&&c++;if(c==a){for(c=0;c<a;c++)d[g-c][h][0]=1,d[g-c][h][1]=f,n.push([g-c,h]);p.push(g);l.push(h)}else b(a)}else{for(e=0;e<a;e++)0==d[g+e][h][0]&&c++;if(c==a){for(c=0;c<a;c++)d[g+c][h][0]=1,d[g+c][h][1]=f,n.push([g+c,h]);p.push(g);l.push(h)}else b(a)}0!=n.length&&(t.push(n),q++)}var k=0,d=[],D=document.getElementById("gameboard"),z=new Audio("sounds/Hit Ship Sound.mp3"),
y=new Audio("sounds/Miss Fire Sound.mp3"),A=new Audio("sounds/Ship Sunk Sound.mp3"),t=[],u="Thinking... Hmm... Finding... Tracking... Spotting... Hunting... Looking... Scanning... Seeking...".split(" "),v="Fire! Launch! Blast! BOOM! BANG! There! Attack!".split(" "),w="Aww Man!;SOS!;I'm Going Down!;Capsized!;I'm Sinking!;Cheater!;Shipwreck!;No Fair!;Hull Breach!;I won't lose!;Abandon Ship!;Overboard!;Stop it!;No Way!;Hey! Stop!;You wont win!;Lucky Shot!;:(".split(";"),E=function(a){window.currentColor=
a.target.style.backgroundColor;"rgb(128, 170, 255)"===a.target.style.backgroundColor&&(a.target.style.backgroundColor="#87CEFA")},F=function(a){a.target.style.backgroundColor=window.currentColor},x=function(){document.getElementById("thinking").style.display="flex";window.uiBlocker(2E3);window.sleep(1400).then(function(){document.getElementById("message").innerText=v[window.randomIntFromInterval(0,v.length-1)]});window.sleep(2E3).then(function(){document.getElementById("thinking").style.display="none";
window.sleep(300).then(function(){for(var b=0;10>b;b++)for(var d=0;10>d;d++)document.getElementById("s"+b+d).addEventListener("click",a);window.compMoveWindow()})});document.getElementById("message").innerText=u[window.randomIntFromInterval(0,u.length-1)]},B=function(a){a?(window.modal(w[window.randomIntFromInterval(0,w.length-1)],1500),window.sleep(1500).then(function(){return x()})):x()},q=0,C=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],l=[1,2,4,6,8],p=[2,4,6,7,9];(function(){document.getElementById("playerWins").textContent=
"Player Wins: "+window.playerWinsOnLoad();for(var f=0;10>f;f++){d.push([]);for(var l=0;10>l;l++){d[f].push([0,""]);var k=document.createElement("div");D.appendChild(k);k.id="s"+l+f;var e=50*f+5;k.style.top=50*l+5+"px";k.style.left=e+"px";k.style.background="rgb(128, 170, 255)";k.addEventListener("mouseover",E);k.addEventListener("mouseleave",F);k.addEventListener("click",a)}}b(5);b(4);b(3);b(3);b(2);window.exportedGameBoard=d;document.addEventListener("keydown",function(a){if(192==a.keyCode)for(console.log(d),
a=0;10>a;a++)for(var b=0;10>b;b++)1==d[a][b][0]&&(document.getElementById("s"+a+b).style.background="white")})})()})();
