var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[e]=h.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var e=0;return $jscomp.iteratorPrototype(function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var e=a[Symbol.iterator];return e?e.call(a):$jscomp.arrayIterator(a)};
$jscomp.checkStringArgs=function(a,e,h){if(null==a)throw new TypeError("The 'this' value for String.prototype."+h+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+h+" must not be a regular expression");return a+""};
$jscomp.polyfill=function(a,e,h,c){if(e){h=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var p=a[c];p in h||(h[p]={});h=h[p]}a=a[a.length-1];c=h[a];e=e(c);e!=c&&null!=e&&$jscomp.defineProperty(h,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,h){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,h||0)}},"es6-impl","es3");
(function(){function a(k){var e=!1;if(window.gameStarted&&!window.gameOver){if(k.target!==k.currentTarget){var l=k.target.id.substring(1,2),f=k.target.id.substring(2,3);if(0==c[l][f][0])k.target.style.backgroundColor="#4d88ff",c[l][f][0]=3,document.getElementById("s"+l+f).classList.add("miss"),window.currentColor="#4d88ff",z.play();else if(1==c[l][f][0]){k.target.style.backgroundColor="red";c[l][f][0]=2;document.getElementById("s"+l+f).classList.add("hit");window.currentColor="red";A.play();h++;for(var g=
0,d=$jscomp.makeIterator(u),b=d.next();!b.done;b=d.next())for(var b=b.value,q=$jscomp.makeIterator(b),m=q.next();!m.done;m=q.next()){var n=m.value;if(n[0]==l&&n[1]==f)for(n=$jscomp.makeIterator(b),m=n.next();!m.done;m=n.next()){var t=m.value;2==c[t[0]][t[1]][0]&&g++;if(g==b.length){window.currentColor="darkred";for(var r=$jscomp.makeIterator(b),m=r.next();!m.done;m=r.next())m=m.value,document.getElementById("s"+m[0]+m[1]).style.backgroundColor="darkred";document.getElementById(c[t[0]][t[1]][1]+"Sunk").classList.add("sunkText");
e=!0;B.play()}}}if(17==h){document.getElementById("wintext").style.display="block";p.removeEventListener("click",a);window.gameOver=!0;window.modal("YOU WIN!!!",3E3);k=window.playerWinsOnLoad()+1;window.setCookie("playerwinsBattleship",k,.25);document.getElementById("playerWins").textContent="Player Wins: "+k;return}}else if(1<c[l][f][0]){window.modal("Can't Fire Here!",1400);return}}window.sleep(200).then(function(){return C(e)});k.stopPropagation()}}function e(a){var k=[],l=D[r],f=window.randomIntFromInterval(1,
2),g,d;do g=window.randomIntFromInterval(0,9);while(q.includes(g));do d=window.randomIntFromInterval(0,9);while(n.includes(d));var b=0;if(1==f)if(d>=a-1){for(f=0;f<a;f++)0==c[g][d-f][0]&&b++;if(b==a){for(b=0;b<a;b++)c[g][d-b][0]=1,c[g][d-b][1]=l,k.push([g,d-b]);q.push(g);n.push(d)}else e(a)}else{for(f=0;f<a;f++)0==c[g][d+f][0]&&b++;if(b==a){for(b=0;b<a;b++)c[g][d+b][0]=1,c[g][d+b][1]=l,k.push([g,d+b]);q.push(g);n.push(d)}else e(a)}else if(g>=a-1){for(f=0;f<a;f++)0==c[g-f][d][0]&&b++;if(b==a){for(b=
0;b<a;b++)c[g-b][d][0]=1,c[g-b][d][1]=l,k.push([g-b,d]);q.push(g);n.push(d)}else e(a)}else{for(f=0;f<a;f++)0==c[g+f][d][0]&&b++;if(b==a){for(b=0;b<a;b++)c[g+b][d][0]=1,c[g+b][d][1]=l,k.push([g+b,d]);q.push(g);n.push(d)}else e(a)}0!=k.length&&(u.push(k),r++)}var h=0,c=[],p=document.getElementById("gameboard"),A=new Audio("sounds/Hit Ship Sound.mp3"),z=new Audio("sounds/Miss Fire Sound.mp3"),B=new Audio("sounds/Ship Sunk Sound.mp3"),u=[],v="Thinking... Hmm... Finding... Tracking... Spotting... Hunting... Looking... Scanning... Seeking...".split(" "),
w="Fire! Launch! Blast! BOOM! BANG! There! Attack!".split(" "),x="Aww Man!;SOS!;I'm Going Down!;Capsized!;I'm Sinking!;Cheater!;Shipwreck!;No Fair!;Hull Breach!;I won't lose!;Abandon Ship!;Overboard!;Stop it!;No Way!;Hey! Stop!;You wont win!;Lucky Shot!;:(".split(";"),E=function(a){window.currentColor=a.target.style.backgroundColor;"rgb(128, 170, 255)"===a.target.style.backgroundColor&&(a.target.style.backgroundColor="#87CEFA")},F=function(a){a.target.style.backgroundColor=window.currentColor},y=
function(){document.getElementById("thinking").style.display="flex";window.uiBlocker(2E3);window.sleep(1400).then(function(){document.getElementById("message").innerText=w[window.randomIntFromInterval(0,w.length-1)]});window.sleep(2E3).then(function(){document.getElementById("thinking").style.display="none";window.sleep(300).then(function(){window.compMoveWindow();p.addEventListener("click",a,!1)})});document.getElementById("message").innerText=v[window.randomIntFromInterval(0,v.length-1)]},C=function(c){p.removeEventListener("click",
a,!1);c?(window.modal(x[window.randomIntFromInterval(0,x.length-1)],1500),window.sleep(1500).then(function(){return y()})):y()},r=0,D=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],n=[1,2,4,6,8],q=[2,4,6,7,9];(function(){p.addEventListener("click",a,!1);document.getElementById("playerWins").textContent="Player Wins: "+window.playerWinsOnLoad();for(var k=0;10>k;k++){c.push([]);for(var h=0;10>h;h++){c[k].push([0,""]);var l=document.createElement("div");p.appendChild(l);l.id="s"+h+k;var f=
50*k+5;l.style.top=50*h+5+"px";l.style.left=f+"px";l.style.background="rgb(128, 170, 255)";l.addEventListener("mouseover",E);l.addEventListener("mouseleave",F)}}e(5);e(4);e(3);e(3);e(2);window.exportedGameBoard=c;document.addEventListener("keydown",function(a){if(192==a.keyCode)for(console.log(c),a=0;10>a;a++)for(var d=0;10>d;d++)1==c[a][d][0]&&(document.getElementById("s"+a+d).style.background="white")})})()})();
