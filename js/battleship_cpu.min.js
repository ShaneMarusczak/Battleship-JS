var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,l,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[l]=g.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var l=0;return $jscomp.iteratorPrototype(function(){return l<e.length?{done:!1,value:e[l++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var l=e[Symbol.iterator];return l?l.call(e):$jscomp.arrayIterator(e)};
$jscomp.checkStringArgs=function(e,l,g){if(null==e)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return e+""};
$jscomp.polyfill=function(e,l,g,p){if(l){g=$jscomp.global;e=e.split(".");for(p=0;p<e.length-1;p++){var r=e[p];r in g||(g[r]={});g=g[r]}e=e[e.length-1];p=g[e];l=l(p);l!=p&&null!=l&&$jscomp.defineProperty(g,e,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("String.prototype.includes",function(e){return e?e:function(e,g){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,g||0)}},"es6-impl","es3");
(function(){var e=0,l=0,g,p,r,f,y=!1,N=!1,O=!1,P=!1,Q=!1,R=!1,G=!1,H=!1,I=!1,J=!1,K=!1,q="",S="hor",T=0,m=0,Y=window.randomIntFromInterval(0,1),L=0,h=[],fa=document.getElementById("gameboard_cpu"),ga=document.getElementById("carrier"),ha=document.getElementById("battleship"),ia=document.getElementById("cruiser"),ja=document.getElementById("submarine"),ka=document.getElementById("destroyer"),la=new Audio("sounds/Ship Sunk Sound.mp3"),M=[],ma=[ga,ha,ia,ja,ka],u=[],k={battleship:4,carrier:5,cruiser:3,
destroyer:2,submarine:3},Z="Found You!;You're Sunk!;Down she goes!;Gotcha!;Ha Ha!;I'm the best!;Woo Hoo!;I'm Better!;I'm gonna win!;Easy!;Sink that ship!;Try Harder!;Yawn...;Sunk!;Oh Yeah!;You're Gonna Lose!;Really? Easy..;Yes!!;So Easy!;Child's Play!;:)".split(";"),z=function(b,a){return 0<=b&&10>b&&0<=a&&10>a},na=function(b){return b.charAt(0).toUpperCase()+b.slice(1)},A=function(b,a){la.play();document.getElementById(a+"Sunk_cpu").classList.remove("hitText");document.getElementById(a+"Sunk_cpu").classList.add("sunkText");
for(var c=0;10>c;c++)for(var d=0;10>d;d++)t(c,d,a)&&v(c,d)&&(window.addClassFromElementById("c"+c+d,"darkRedBackground"),window.removeClassFromElementById("c"+c+d,"redBackground"));e-=b;q="";Y=window.randomIntFromInterval(0,1);for(c=0;10>c;c++)for(d=0;10>d;d++)t(c,d,a)&&(h[c][d][0]=4);0===window.randomIntFromInterval(0,10)?window.modal(na(a)+" Sunk!",1500):window.modal(Z[window.randomIntFromInterval(0,Z.length-1)],1500);if(0<e)a:for(c=0;10>c;c++)for(d=0;10>d;d++)if(v(c,d)){g=c;p=d;break a}},oa=function(){for(var b=
0;10>b;b++)for(var a=0;10>a;a++)"hor"===S?(document.getElementById("c"+b+a).removeEventListener("mouseover",U),document.getElementById("c"+b+a).addEventListener("mouseover",aa)):(document.getElementById("c"+b+a).removeEventListener("mouseover",aa),document.getElementById("c"+b+a).addEventListener("mouseover",U));S="hor"===S?"ver":"hor"},aa=function(b){for(var a=b.target.id,c=!0,d=0;d<f;d++)if(!w(Number(a[1])+d,Number(a[2]))){c=!1;break}if(Number(a[1])<11-f&&c)for(b.target.addEventListener("click",
B),b=0;b<f;b++)document.getElementById(a[0]+(Number(a[1])+b)+a[2]).classList.add("blackBackground");else b.target.removeEventListener("click",B)},U=function(b){for(var a=b.target.id,c=!0,d=0;d<f;d++)if(!w(Number(a[1]),Number(a[2])+d)){c=!1;break}if(Number(a[2])<11-f&&c)for(b.target.addEventListener("click",B),b=0;b<f;b++)document.getElementById(a[0]+a[1]+(Number(a[2])+b)).classList.add("blackBackground");else b.target.removeEventListener("click",B)},ba=function(){for(var b=0;10>b;b++)for(var a=0;10>
a;a++)w(b,a)&&(document.getElementById("c"+b+a).classList.remove("blackBackground"),document.getElementById("c"+b+a).classList.remove("greyBackground"))},X=function(b){if(0===f&&!y){var a,c=Number(b.target.id[1]),d=Number(b.target.id[2]),e=$jscomp.makeIterator(h[c][d]);e.next();e=e.next().value;switch(e){case "carrier":N=!1;break;case "battleship":O=!1;break;case "cruiser":P=!1;break;case "submarine":Q=!1;break;case "destroyer":R=!1}f=k[e];r=e;document.getElementById(e).classList.remove("notDisplayed");
ca.forEach(function(a){return document.getElementById(a).classList.remove("clicked")});document.getElementById(e).classList.add("clicked");l--;for(var e=$jscomp.makeIterator(M),n=e.next();!n.done;n=e.next())for(var n=n.value,g=$jscomp.makeIterator(n),m=g.next();!m.done;m=g.next())if(m=m.value,m[0]===c&&m[1]===d){a=n;break}a.forEach(function(a){var b=document.getElementById("c"+a[0]+a[1]);b.removeEventListener("mouseover",V);b.removeEventListener("mouseleave",W);b.removeEventListener("click",X);b.classList.remove("curserPointer");
h[a[0]][a[1]][0]=0;h[a[0]][a[1]][1]=""});M.splice(M.indexOf(a),1);pa()}b.stopImmediatePropagation()},ca=["carrier","battleship","cruiser","submarine","destroyer"],qa=function(b){if(!y){var a=b.target.parentElement.id;document.getElementById(a).classList.contains("clicked")?(document.getElementById(a).classList.remove("clicked"),f=0):(ca.forEach(function(a){return document.getElementById(a).classList.remove("clicked")}),"carrier"!==a||N)?"battleship"!==a||O?"cruiser"!==a||P?"submarine"!==a||Q?"destroyer"!==
a||R||(f=k[a],b.target.parentElement.classList.add("clicked")):(f=k[a],b.target.parentElement.classList.add("clicked"),r="submarine"):(f=k[a],b.target.parentElement.classList.add("clicked"),r="cruiser"):(f=k[a],b.target.parentElement.classList.add("clicked")):(f=k[a],b.target.parentElement.classList.add("clicked"))}},V=function(b){if(0===f){b=$jscomp.makeIterator(h[Number(b.target.id[1])][Number(b.target.id[2])]);b.next();b=b.next().value;for(var a=0;10>a;a++)for(var c=0;10>c;c++)t(a,c,b)&&(document.getElementById("c"+
a+c).classList.remove("blackBackground"),document.getElementById("c"+a+c).classList.add("greyBackground"))}},W=function(b){b=$jscomp.makeIterator(h[Number(b.target.id[1])][Number(b.target.id[2])]);b.next();b=b.next().value;for(var a=0;10>a;a++)for(var c=0;10>c;c++)t(a,c,b)&&(document.getElementById("c"+a+c).classList.add("blackBackground"),document.getElementById("c"+a+c).classList.remove("greyBackground"))},pa=function(){for(var b=0;10>b;b++)for(var a=0;10>a;a++)document.getElementById("c"+b+a).classList.contains("greyBackground")&&
(document.getElementById("c"+b+a).classList.add("blackBackground"),document.getElementById("c"+b+a).classList.remove("greyBackground"))},B=function(){if(!y){for(var b=[],a=0;10>a;a++)for(var c=0;10>c;c++)if(document.getElementById("c"+a+c).classList.contains("blackBackground")&&""===h[a][c][1]){f===k.carrier?h[a][c][1]="carrier":f===k.battleship?h[a][c][1]="battleship":f===k.cruiser&&"cruiser"===r?h[a][c][1]="cruiser":f===k.submarine&&"submarine"===r?h[a][c][1]="submarine":f===k.destroyer&&(h[a][c][1]=
"destroyer");var d=document.getElementById("c"+a+c);d.addEventListener("click",X);d.addEventListener("mouseover",V);d.addEventListener("mouseleave",W);d.removeEventListener("click",B);d.classList.add("curserPointer");h[a][c][0]=1;b.push([a,c])}f===k.carrier?(N=!0,l++,document.getElementById("carrier").classList.add("notDisplayed")):f===k.battleship?(O=!0,l++,document.getElementById("battleship").classList.add("notDisplayed")):f===k.cruiser?"cruiser"===r?(P=!0,l++,document.getElementById("cruiser").classList.add("notDisplayed")):
"submarine"===r&&(Q=!0,l++,document.getElementById("submarine").classList.add("notDisplayed")):f===k.destroyer&&(R=!0,l++,document.getElementById("destroyer").classList.add("notDisplayed"));if(5===l)for(document.getElementById("downArrow").classList.add("notDisplayed"),document.getElementById("leftList").classList.remove("notDisplayed"),document.getElementById("ships").classList.add("notDisplayed"),window.modal("All ships Placed!",1500),y=!0,window.gameStarted=!0,a=0;10>a;a++)for(c=0;10>c;c++)d=document.getElementById("c"+
a+c),d.removeEventListener("mouseleave",ba),d.removeEventListener("click",X),d.removeEventListener("mouseover",V),d.removeEventListener("mouseleave",W),d.classList.remove("curserPointer");f=0;M.push(b)}},t=function(b,a,c){return z(b,a)&&h[b][a][1]===c},sa=function(){if(G&&H&&I&&J&&K){document.getElementById("losstext").style.display="block";window.gameOver=!0;ra();window.sleep(1500).then(function(){return window.modal("HA HA! I WIN!",2E3)});var b=window.compWinsOnLoad()+1;window.setCookie("compwinsBattleship",
b,.25);document.getElementById("compWins").textContent="Computer Wins: "+b}},ta=function(){var b=g,a=p;if("ver"===q){if(9>=b+1&&da(b+1,a,!0))return;if(9<b+1||C(b+1,a)){for(var c=1;10>c&&!(0>b-c||3===h[b-c][a][0]||4===h[b-c][a][0]);c++){if(w(b-c,a)){D(b-c,a);return}if(E(b-c,a)){F(b-c,a);return}}m=0;q=""}}if("hor"===q){if(9>=a+1&&da(b,a+1,!1))return;if(9<a+1||C(b,a+1)){for(c=1;10>c&&!(0>a-c||3===h[b][a-c][0]||4===h[b][a-c][0]);c++){if(w(b,a-c)){D(b,a-c);return}if(E(b,a-c)){F(b,a-c);return}}m=0;q=""}}if(0===
Y){if(0===m&&""===q)if(9<b+1)m++;else if(x(b+1,a,"ver",1))return;if(1===m&&""===q)if(9<a+1)m++;else if(x(b,a+1,"hor",1))return}else{if(0===m&&""===q)if(9<a+1)m++;else if(x(b,a+1,"hor",1))return;if(1===m&&""===q)if(9<b+1)m++;else if(x(b+1,a,"ver",1))return}if(2===m&&""===q)if(0>b-1)m++;else if(x(b-1,a,"ver",-1))return;3<=m&&""===q&&x(b,a-1,"hor",-1)},da=function(b,a,c){return w(b,a)?(D(b,a),!0):E(b,a)?(F(b,a),c?g++:p++,!0):!1},x=function(b,a,c,d){if(w(b,a))return D(b,a),m++,!0;if(E(b,a))return F(b,
a),q=c,m=0,"ver"===c?g+=d:p+=d,!0;m++;return!1},w=function(b,a){return z(b,a)&&0===h[b][a][0]},E=function(b,a){return z(b,a)&&1===h[b][a][0]},v=function(b,a){return z(b,a)&&2===h[b][a][0]},C=function(b,a){return z(b,a)&&1<h[b][a][0]},F=function(b,a){document.getElementById("c"+b+a).classList.remove("blackBackground");document.getElementById("c"+b+a).classList.add("redBackground");h[b][a][0]=2;e++;T++;L=0},D=function(b,a){document.getElementById("c"+b+a).classList.remove("blackBackground");document.getElementById("c"+
b+a).classList.add("missBackground");h[b][a][0]=3;T++;L++},ea=function(){var b,a;if(5>T||0===window.randomIntFromInterval(0,9)){do b=window.randomIntFromInterval(0,9),a=window.randomIntFromInterval(0,9);while(0!=b%2&&0===a%2||0===b%2&&0!=a%2||[4,5,6].includes(b)||[4,5,6].includes(a))}else{a=$jscomp.makeIterator(ua());b=a.next().value;a=a.next().value;for(var c=0;10>c;c++)for(var d=0;10>d;d++)u[c][d]=0}g=b;p=a;w(b,a)?D(b,a):E(b,a)?F(b,a):C(b,a)&&ea()},va=function(){if(!window.gameOver&&window.gameStarted)if(y){0<
e?ta():ea();for(var b=0;10>b;b++)for(var a=0;10>a;a++)v(b,a)&&document.getElementById(h[b][a][1]+"Sunk_cpu").classList.add("hitText");for(var c=a=b=0,d=0,g=0,n=0;10>n;n++)for(var f=0;10>f;f++)!G&&t(n,f,"carrier")&&v(n,f)?b++:!H&&t(n,f,"battleship")&&v(n,f)?a++:!I&&t(n,f,"cruiser")&&v(n,f)?c++:!J&&t(n,f,"submarine")&&v(n,f)?d++:!K&&t(n,f,"destroyer")&&v(n,f)&&g++;b===k.carrier&&(G=!0,A(5,"carrier"));a===k.battleship&&(H=!0,A(4,"battleship"));c===k.cruiser&&(I=!0,A(3,"cruiser"));d===k.submarine&&(J=
!0,A(3,"submarine"));g===k.destroyer&&(K=!0,A(2,"destroyer"));sa()}else window.modal("Place all ships!",1400)},ua=function(){var b=[],a=0;G||b.push(k.carrier);H||b.push(k.battleship);J||b.push(k.submarine);I||b.push(k.cruiser);K||b.push(k.destroyer);for(var c=0;c<b.length;c++){for(var d=0;10>d;d++)for(var e=0;e<10-b[c]+1;e++){for(var f=0;f<b[c];f++)C(d,e+f)||a++;if(a===b[c])for(a=0;a<b[c];a++)u[d][e+a]++;a=0}for(d=0;10>d;d++)for(e=0;e<10-b[c]+1;e++){for(f=0;f<b[c];f++)C(e+f,d)||a++;if(a===b[c])for(a=
0;a<b[c];a++)u[e+a][d]++;a=0}}b=0;c=[];for(a=0;10>a;a++)for(d=0;10>d;d++){if(6<L&&10>L){if(0!==a&&9!==a&&0!==d&&9!==d)continue;if(0!==d&&9!==d&&0!==a&&9!==a)continue}u[a][d]===b?c.push([a,d]):u[a][d]>b&&(b=u[a][d],c=[],c.push([a,d]))}return c[window.randomIntFromInterval(0,c.length-1)]},ra=function(){for(var b=0;10>b;b++)for(var a=0;10>a;a++)1===window.exportedGameBoard[b][a][0]&&window.addClassFromElementById("s"+b+a,"blackBackground")},wa=function(){window.addClassFromElementById("rotateArrow",
"rotateAnimation");window.removeClassFromElementById("rotateArrow","rotateBackAnimation")},xa=function(){window.removeClassFromElementById("rotateArrow","rotateAnimation");window.addClassFromElementById("rotateArrow","rotateBackAnimation")};(function(){window.compMoveWindow=va;for(var b=0;10>b;b++){h.push([]);u.push([]);for(var a=0;10>a;a++){u[b].push(0);h[b].push([0,""]);var c=document.createElement("div");fa.appendChild(c);c.id="c"+a+b;var d=50*b+5;c.style.top=50*a+5+"px";c.style.left=d+"px";c.style.backgroundColor=
"#80aaff";c.addEventListener("mouseover",U);c.addEventListener("mouseleave",ba)}}ma.forEach(function(a){return a.addEventListener("click",qa)});window.addEventListenerById("rotate","mouseover",wa);window.addEventListenerById("rotate","mouseleave",xa);window.addEventListenerById("rotate","click",oa);document.getElementById("compWins").textContent="Computer Wins: "+window.compWinsOnLoad();document.addEventListener("keydown",function(a){192===a.keyCode&&console.log(h)});"Y"===window.getCookie("darkMode")?
window.setDarkMode():window.removeDarkMode()})()})();
