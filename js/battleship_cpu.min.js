var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,n,p){if(p.get||p.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[n]=p.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var n=0;return $jscomp.iteratorPrototype(function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var n=e[Symbol.iterator];return n?n.call(e):$jscomp.arrayIterator(e)};
(function(){var e=0,n=0,p,x,v,g,y=!1,M=!1,N=!1,O=!1,P=!1,Q=!1,G=!1,H=!1,I=!1,J=!1,K=!1,f="",R="hor",S=0,l=0,X=window.randomIntFromInterval(0,1),h=[],ea=document.getElementById("gameboard_cpu"),fa=document.getElementById("carrier"),ga=document.getElementById("battleship"),ha=document.getElementById("cruiser"),ia=document.getElementById("submarine"),ja=document.getElementById("destroyer"),ka=new Audio("sounds/Ship Sunk Sound.mp3"),L=[],la=[fa,ga,ha,ia,ja],r=[],k={battleship:4,carrier:5,cruiser:3,destroyer:2,
submarine:3},Y="Found You!;You're Sunk!;Down she goes!;Gotcha!;Ha Ha!;I'm the best!;Woo Hoo!;I'm Better!;I'm gonna win!;Easy!;Sink that ship!;Try Harder!;Yawn...;Sunk!;Oh Yeah!;You're Gonna Lose!;Really? Easy..;Yes!!;So Easy!;Child's Play!;:)".split(";"),z=function(b,a){return 0<=b&&10>b&&0<=a&&10>a},ma=function(b){return b.charAt(0).toUpperCase()+b.slice(1)},A=function(b,a){ka.play();document.getElementById(a+"Sunk_cpu").classList.remove("hitText");document.getElementById(a+"Sunk_cpu").classList.add("sunkText");
for(var c=0;10>c;c++)for(var d=0;10>d;d++)q(c,d,a)&&t(c,d)&&(window.addClassFromElementById("c"+c+d,"darkRedBackground"),window.removeClassFromElementById("c"+c+d,"redBackground"));e-=b;f="";X=window.randomIntFromInterval(0,1);for(c=0;10>c;c++)for(d=0;10>d;d++)q(c,d,a)&&(h[c][d][0]=4);0===window.randomIntFromInterval(0,10)?window.modal(ma(a)+" Sunk!",1500):window.modal(Y[window.randomIntFromInterval(0,Y.length-1)],1500);if(0<e)a:for(c=0;10>c;c++)for(d=0;10>d;d++)if(t(c,d)){p=c;x=d;break a}},na=function(){for(var b=
0;10>b;b++)for(var a=0;10>a;a++)"hor"==R?(document.getElementById("c"+b+a).removeEventListener("mouseover",T),document.getElementById("c"+b+a).addEventListener("mouseover",Z)):(document.getElementById("c"+b+a).removeEventListener("mouseover",Z),document.getElementById("c"+b+a).addEventListener("mouseover",T));R="hor"==R?"ver":"hor"},Z=function(b){for(var a=b.target.id,c=!0,d=0;d<g;d++)if(!u(Number(a[1])+d,Number(a[2]))){c=!1;break}if(Number(a[1])<11-g&&c)for(b.target.addEventListener("click",B),b=
0;b<g;b++)document.getElementById(a[0]+(Number(a[1])+b)+a[2]).classList.add("blackBackground");else b.target.removeEventListener("click",B)},T=function(b){for(var a=b.target.id,c=!0,d=0;d<g;d++)if(!u(Number(a[1]),Number(a[2])+d)){c=!1;break}if(Number(a[2])<11-g&&c)for(b.target.addEventListener("click",B),b=0;b<g;b++)document.getElementById(a[0]+a[1]+(Number(a[2])+b)).classList.add("blackBackground");else b.target.removeEventListener("click",B)},aa=function(){for(var b=0;10>b;b++)for(var a=0;10>a;a++)u(b,
a)&&(document.getElementById("c"+b+a).classList.remove("blackBackground"),document.getElementById("c"+b+a).classList.remove("greyBackground"))},W=function(b){if(0===g&&!y){var a,c=Number(b.target.id[1]),d=Number(b.target.id[2]),e=$jscomp.makeIterator(h[c][d]);e.next();e=e.next().value;switch(e){case "carrier":M=!1;break;case "battleship":N=!1;break;case "cruiser":O=!1;break;case "submarine":P=!1;break;case "destroyer":Q=!1}g=k[e];v=e;document.getElementById(e).classList.remove("notDisplayed");ba.forEach(function(a){return document.getElementById(a).classList.remove("clicked")});
document.getElementById(e).classList.add("clicked");n--;for(var e=$jscomp.makeIterator(L),m=e.next();!m.done;m=e.next())for(var m=m.value,l=$jscomp.makeIterator(m),f=l.next();!f.done;f=l.next())if(f=f.value,f[0]===c&&f[1]===d){a=m;break}a.forEach(function(a){var b=document.getElementById("c"+a[0]+a[1]);b.removeEventListener("mouseover",U);b.removeEventListener("mouseleave",V);b.removeEventListener("click",W);b.classList.remove("curserPointer");h[a[0]][a[1]][0]=0;h[a[0]][a[1]][1]=""});L.splice(L.indexOf(a),
1)}b.stopImmediatePropagation()},ba=["carrier","battleship","cruiser","submarine","destroyer"],oa=function(b){if(!y){var a=b.target.parentElement.id;document.getElementById(a).classList.contains("clicked")?(document.getElementById(a).classList.remove("clicked"),g=0):(ba.forEach(function(a){return document.getElementById(a).classList.remove("clicked")}),"carrier"!==a||M)?"battleship"!==a||N?"cruiser"!==a||O?"submarine"!==a||P?"destroyer"!==a||Q||(g=k[a],b.target.parentElement.classList.add("clicked")):
(g=k[a],b.target.parentElement.classList.add("clicked"),v="submarine"):(g=k[a],b.target.parentElement.classList.add("clicked"),v="cruiser"):(g=k[a],b.target.parentElement.classList.add("clicked")):(g=k[a],b.target.parentElement.classList.add("clicked"))}},U=function(b){if(0===g){b=$jscomp.makeIterator(h[Number(b.target.id[1])][Number(b.target.id[2])]);b.next();b=b.next().value;for(var a=0;10>a;a++)for(var c=0;10>c;c++)q(a,c,b)&&(document.getElementById("c"+a+c).classList.remove("blackBackground"),
document.getElementById("c"+a+c).classList.add("greyBackground"))}},V=function(b){b=$jscomp.makeIterator(h[Number(b.target.id[1])][Number(b.target.id[2])]);b.next();b=b.next().value;for(var a=0;10>a;a++)for(var c=0;10>c;c++)q(a,c,b)&&(document.getElementById("c"+a+c).classList.add("blackBackground"),document.getElementById("c"+a+c).classList.remove("greyBackground"))},B=function(){if(!y){for(var b=[],a=0;10>a;a++)for(var c=0;10>c;c++)if(document.getElementById("c"+a+c).classList.contains("blackBackground")&&
""==h[a][c][1]){g===k.carrier?h[a][c][1]="carrier":g===k.battleship?h[a][c][1]="battleship":g===k.cruiser&&"cruiser"===v?h[a][c][1]="cruiser":g===k.submarine&&"submarine"===v?h[a][c][1]="submarine":g===k.destroyer&&(h[a][c][1]="destroyer");var d=document.getElementById("c"+a+c);d.addEventListener("click",W);d.addEventListener("mouseover",U);d.addEventListener("mouseleave",V);d.removeEventListener("click",B);d.classList.add("curserPointer");h[a][c][0]=1;b.push([a,c])}g===k.carrier?(M=!0,n++,document.getElementById("carrier").classList.add("notDisplayed")):
g===k.battleship?(N=!0,n++,document.getElementById("battleship").classList.add("notDisplayed")):g===k.cruiser?"cruiser"===v?(O=!0,n++,document.getElementById("cruiser").classList.add("notDisplayed")):"submarine"===v&&(P=!0,n++,document.getElementById("submarine").classList.add("notDisplayed")):g===k.destroyer&&(Q=!0,n++,document.getElementById("destroyer").classList.add("notDisplayed"));if(5===n)for(document.getElementById("downArrow").classList.add("notDisplayed"),document.getElementById("leftList").classList.remove("notDisplayed"),
document.getElementById("ships").classList.add("notDisplayed"),window.modal("All ships Placed!",1500),y=!0,window.gameStarted=!0,a=0;10>a;a++)for(c=0;10>c;c++)d=document.getElementById("c"+a+c),d.removeEventListener("mouseleave",aa),d.removeEventListener("click",W),d.removeEventListener("mouseover",U),d.removeEventListener("mouseleave",V),d.classList.remove("curserPointer");g=0;L.push(b)}},q=function(b,a,c){return z(b,a)&&h[b][a][1]===c},qa=function(){if(G&&H&&I&&J&&K){document.getElementById("losstext").style.display=
"block";window.gameOver=!0;pa();window.sleep(1500).then(function(){return window.modal("HA HA! I WIN!",2E3)});var b=window.compWinsOnLoad()+1;window.setCookie("compwinsBattleship",b,.25);document.getElementById("compWins").textContent="Computer Wins: "+b}},ra=function(){var b=p,a=x;if("ver"==f){if(9>=b+1&&ca(b+1,a,!0))return;if(9<b+1||C(b+1,a)){for(var c=1;10>c&&!(0>b-c||3==h[b-c][a][0]||4==h[b-c][a][0]);c++){if(u(b-c,a)){D(b-c,a);return}if(E(b-c,a)){F(b-c,a);return}}l=0;f=""}}if("hor"==f){if(9>=
a+1&&ca(b,a+1,!1))return;if(9<a+1||C(b,a+1)){for(c=1;10>c&&!(0>a-c||3===h[b][a-c][0]||4===h[b][a-c][0]);c++){if(u(b,a-c)){D(b,a-c);return}if(E(b,a-c)){F(b,a-c);return}}l=0;f=""}}if(0===X){if(0===l&&""===f)if(9<b+1)l++;else if(w(b+1,a,"ver",1))return;if(1===l&&""===f)if(9<a+1)l++;else if(w(b,a+1,"hor",1))return}else{if(0===l&&""===f)if(9<a+1)l++;else if(w(b,a+1,"hor",1))return;if(1===l&&""===f)if(9<b+1)l++;else if(w(b+1,a,"ver",1))return}if(2===l&&""===f)if(0>b-1)l++;else if(w(b-1,a,"ver",-1))return;
3<=l&&""===f&&w(b,a-1,"hor",-1)},ca=function(b,a,c){return u(b,a)?(D(b,a),!0):E(b,a)?(F(b,a),c?p++:x++,!0):!1},w=function(b,a,c,d){if(u(b,a))return D(b,a),l++,!0;if(E(b,a))return F(b,a),f=c,l=0,"ver"===c?p+=d:x+=d,!0;l++;return!1},u=function(b,a){return z(b,a)&&0===h[b][a][0]},E=function(b,a){return z(b,a)&&1===h[b][a][0]},t=function(b,a){return z(b,a)&&2===h[b][a][0]},C=function(b,a){return z(b,a)&&1<h[b][a][0]},F=function(b,a){document.getElementById("c"+b+a).classList.remove("blackBackground");
document.getElementById("c"+b+a).classList.add("redBackground");h[b][a][0]=2;e++;S++},D=function(b,a){document.getElementById("c"+b+a).classList.remove("blackBackground");document.getElementById("c"+b+a).classList.add("missBackground");h[b][a][0]=3;S++},da=function(){var b,a;if(5>S||0===window.randomIntFromInterval(0,9)){do b=window.randomIntFromInterval(0,8),a=window.randomIntFromInterval(0,8);while(0!=b%2&&0==a%2||0==b%2&&0!=a%2)}else{a=$jscomp.makeIterator(sa());b=a.next().value;a=a.next().value;
for(var c=0;10>c;c++)for(var d=0;10>d;d++)r[c][d]=0}p=b;x=a;u(b,a)?D(b,a):E(b,a)?F(b,a):C(b,a)&&da()},ta=function(){if(!window.gameOver&&window.gameStarted)if(y){0<e?ra():da();for(var b=0;10>b;b++)for(var a=0;10>a;a++)t(b,a)&&document.getElementById(h[b][a][1]+"Sunk_cpu").classList.add("hitText");for(var c=a=b=0,d=0,g=0,m=0;10>m;m++)for(var f=0;10>f;f++)q(m,f,"carrier")&&t(m,f)&&!G?b++:q(m,f,"battleship")&&t(m,f)&&!H?a++:q(m,f,"cruiser")&&t(m,f)&&!I?c++:q(m,f,"submarine")&&t(m,f)&&!J?d++:q(m,f,"destroyer")&&
t(m,f)&&!K&&g++;b==k.carrier&&(G=!0,A(5,"carrier"));a==k.battleship&&(H=!0,A(4,"battleship"));c==k.cruiser&&(I=!0,A(3,"cruiser"));d==k.submarine&&(J=!0,A(3,"submarine"));g==k.destroyer&&(K=!0,A(2,"destroyer"));qa()}else window.modal("Place all ships!",1400)},sa=function(){var b=[],a=0;G||b.push(k.carrier);H||b.push(k.battleship);J||b.push(k.submarine);I||b.push(k.cruiser);K||b.push(k.destroyer);for(var c=0;c<b.length;c++){for(var d=0;10>d;d++)for(var e=0;e<10-b[c]+1;e++){for(var f=0;f<b[c];f++)C(d,
e+f)||a++;if(a===b[c])for(a=0;a<b[c];a++)r[d][e+a]++;a=0}for(d=0;10>d;d++)for(e=0;e<10-b[c]+1;e++){for(f=0;f<b[c];f++)C(e+f,d)||a++;if(a===b[c])for(a=0;a<b[c];a++)r[e+a][d]++;a=0}}b=0;c=[];for(a=0;10>a;a++)for(d=0;10>d;d++)r[a][d]===b?c.push([a,d]):r[a][d]>b&&(b=r[a][d],c=[],c.push([a,d]));return c[window.randomIntFromInterval(0,c.length-1)]},pa=function(){for(var b=0;10>b;b++)for(var a=0;10>a;a++)1===window.exportedGameBoard[b][a][0]&&window.addClassFromElementById("s"+b+a,"blackBackground")},ua=
function(){window.addClassFromElementById("rotateArrow","rotateAnimation");window.removeClassFromElementById("rotateArrow","rotateBackAnimation")},va=function(){window.removeClassFromElementById("rotateArrow","rotateAnimation");window.addClassFromElementById("rotateArrow","rotateBackAnimation")};(function(){window.compMoveWindow=ta;for(var b=0;10>b;b++){h.push([]);r.push([]);for(var a=0;10>a;a++){r[b].push(0);h[b].push([0,""]);var c=document.createElement("div");ea.appendChild(c);c.id="c"+a+b;var d=
50*b+5;c.style.top=50*a+5+"px";c.style.left=d+"px";c.style.backgroundColor="#80aaff";c.addEventListener("mouseover",T);c.addEventListener("mouseleave",aa)}}la.forEach(function(a){return a.addEventListener("click",oa)});window.addEventListenerById("rotate","mouseover",ua);window.addEventListenerById("rotate","mouseleave",va);window.addEventListenerById("rotate","click",na);document.getElementById("compWins").textContent="Computer Wins: "+window.compWinsOnLoad();document.addEventListener("keydown",
function(a){192==a.keyCode&&console.log(h)});"Y"===window.getCookie("darkMode")?window.setDarkMode():window.removeDarkMode()})()})();
