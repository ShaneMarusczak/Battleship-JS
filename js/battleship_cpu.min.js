var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,l,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[l]=g.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var l=0;return $jscomp.iteratorPrototype(function(){return l<d.length?{done:!1,value:d[l++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var l=d[Symbol.iterator];return l?l.call(d):$jscomp.arrayIterator(d)};
$jscomp.checkStringArgs=function(d,l,g){if(null==d)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return d+""};
$jscomp.polyfill=function(d,l,g,p){if(l){g=$jscomp.global;d=d.split(".");for(p=0;p<d.length-1;p++){var r=d[p];r in g||(g[r]={});g=g[r]}d=d[d.length-1];p=g[d];l=l(p);l!=p&&null!=l&&$jscomp.defineProperty(g,d,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("String.prototype.includes",function(d){return d?d:function(d,g){return-1!==$jscomp.checkStringArgs(this,d,"includes").indexOf(d,g||0)}},"es6-impl","es3");
(function(){var d=0,l=0,g,p,r,f,y=!1,M=!1,N=!1,O=!1,P=!1,Q=!1,G=!1,H=!1,I=!1,J=!1,K=!1,q="",R="hor",S=0,m=0,X=window.randomIntFromInterval(0,1),h=[],ea=document.getElementById("gameboard_cpu"),fa=document.getElementById("carrier"),ga=document.getElementById("battleship"),ha=document.getElementById("cruiser"),ia=document.getElementById("submarine"),ja=document.getElementById("destroyer"),ka=new Audio("sounds/Ship Sunk Sound.mp3"),L=[],la=[fa,ga,ha,ia,ja],u=[],k={battleship:4,carrier:5,cruiser:3,destroyer:2,
submarine:3},Y="Found You!;You're Sunk!;Down she goes!;Gotcha!;Ha Ha!;I'm the best!;Woo Hoo!;I'm Better!;I'm gonna win!;Easy!;Sink that ship!;Try Harder!;Yawn...;Sunk!;Oh Yeah!;You're Gonna Lose!;Really? Easy..;Yes!!;So Easy!;Child's Play!;:)".split(";"),z=function(b,a){return 0<=b&&10>b&&0<=a&&10>a},ma=function(b){return b.charAt(0).toUpperCase()+b.slice(1)},A=function(b,a){ka.play();document.getElementById(a+"Sunk_cpu").classList.remove("hitText");document.getElementById(a+"Sunk_cpu").classList.add("sunkText");
for(var c=0;10>c;c++)for(var e=0;10>e;e++)t(c,e,a)&&v(c,e)&&(window.addClassFromElementById("c"+c+e,"darkRedBackground"),window.removeClassFromElementById("c"+c+e,"redBackground"));d-=b;q="";X=window.randomIntFromInterval(0,1);for(c=0;10>c;c++)for(e=0;10>e;e++)t(c,e,a)&&(h[c][e][0]=4);0===window.randomIntFromInterval(0,10)?window.modal(ma(a)+" Sunk!",1500):window.modal(Y[window.randomIntFromInterval(0,Y.length-1)],1500);if(0<d)a:for(c=0;10>c;c++)for(e=0;10>e;e++)if(v(c,e)){g=c;p=e;break a}},na=function(){for(var b=
0;10>b;b++)for(var a=0;10>a;a++)"hor"===R?(document.getElementById("c"+b+a).removeEventListener("mouseover",T),document.getElementById("c"+b+a).addEventListener("mouseover",Z)):(document.getElementById("c"+b+a).removeEventListener("mouseover",Z),document.getElementById("c"+b+a).addEventListener("mouseover",T));R="hor"===R?"ver":"hor"},Z=function(b){for(var a=b.target.id,c=!0,e=0;e<f;e++)if(!w(Number(a[1])+e,Number(a[2]))){c=!1;break}if(Number(a[1])<11-f&&c)for(b.target.addEventListener("click",B),
b=0;b<f;b++)document.getElementById(a[0]+(Number(a[1])+b)+a[2]).classList.add("blackBackground");else b.target.removeEventListener("click",B)},T=function(b){for(var a=b.target.id,c=!0,e=0;e<f;e++)if(!w(Number(a[1]),Number(a[2])+e)){c=!1;break}if(Number(a[2])<11-f&&c)for(b.target.addEventListener("click",B),b=0;b<f;b++)document.getElementById(a[0]+a[1]+(Number(a[2])+b)).classList.add("blackBackground");else b.target.removeEventListener("click",B)},aa=function(){for(var b=0;10>b;b++)for(var a=0;10>
a;a++)w(b,a)&&(document.getElementById("c"+b+a).classList.remove("blackBackground"),document.getElementById("c"+b+a).classList.remove("greyBackground"))},W=function(b){if(0===f&&!y){var a,c=Number(b.target.id[1]),e=Number(b.target.id[2]),d=$jscomp.makeIterator(h[c][e]);d.next();d=d.next().value;switch(d){case "carrier":M=!1;break;case "battleship":N=!1;break;case "cruiser":O=!1;break;case "submarine":P=!1;break;case "destroyer":Q=!1}f=k[d];r=d;document.getElementById(d).classList.remove("hidden");
ba.forEach(function(a){return document.getElementById(a).classList.remove("clicked")});document.getElementById(d).classList.add("clicked");l--;for(var d=$jscomp.makeIterator(L),n=d.next();!n.done;n=d.next())for(var n=n.value,g=$jscomp.makeIterator(n),m=g.next();!m.done;m=g.next())if(m=m.value,m[0]===c&&m[1]===e){a=n;break}a.forEach(function(a){var b=document.getElementById("c"+a[0]+a[1]);b.removeEventListener("mouseover",U);b.removeEventListener("mouseleave",V);b.removeEventListener("click",W);b.classList.remove("curserPointer");
h[a[0]][a[1]][0]=0;h[a[0]][a[1]][1]=""});L.splice(L.indexOf(a),1);oa()}b.stopImmediatePropagation()},ba=["carrier","battleship","cruiser","submarine","destroyer"],pa=function(b){if(!y){var a=b.target.parentElement.id;document.getElementById(a).classList.contains("clicked")?(document.getElementById(a).classList.remove("clicked"),f=0):(ba.forEach(function(a){return document.getElementById(a).classList.remove("clicked")}),"carrier"!==a||M)?"battleship"!==a||N?"cruiser"!==a||O?"submarine"!==a||P?"destroyer"!==
a||Q||(f=k[a],b.target.parentElement.classList.add("clicked")):(f=k[a],b.target.parentElement.classList.add("clicked"),r="submarine"):(f=k[a],b.target.parentElement.classList.add("clicked"),r="cruiser"):(f=k[a],b.target.parentElement.classList.add("clicked")):(f=k[a],b.target.parentElement.classList.add("clicked"))}},U=function(b){if(0===f){b=$jscomp.makeIterator(h[Number(b.target.id[1])][Number(b.target.id[2])]);b.next();b=b.next().value;for(var a=0;10>a;a++)for(var c=0;10>c;c++)t(a,c,b)&&(document.getElementById("c"+
a+c).classList.remove("blackBackground"),document.getElementById("c"+a+c).classList.add("greyBackground"))}},V=function(b){b=$jscomp.makeIterator(h[Number(b.target.id[1])][Number(b.target.id[2])]);b.next();b=b.next().value;for(var a=0;10>a;a++)for(var c=0;10>c;c++)t(a,c,b)&&(document.getElementById("c"+a+c).classList.add("blackBackground"),document.getElementById("c"+a+c).classList.remove("greyBackground"))},oa=function(){for(var b=0;10>b;b++)for(var a=0;10>a;a++)document.getElementById("c"+b+a).classList.contains("greyBackground")&&
(document.getElementById("c"+b+a).classList.add("blackBackground"),document.getElementById("c"+b+a).classList.remove("greyBackground"))},B=function(){if(!y){for(var b=[],a=0;10>a;a++)for(var c=0;10>c;c++)if(document.getElementById("c"+a+c).classList.contains("blackBackground")&&""===h[a][c][1]){f===k.carrier?h[a][c][1]="carrier":f===k.battleship?h[a][c][1]="battleship":f===k.cruiser&&"cruiser"===r?h[a][c][1]="cruiser":f===k.submarine&&"submarine"===r?h[a][c][1]="submarine":f===k.destroyer&&(h[a][c][1]=
"destroyer");var e=document.getElementById("c"+a+c);e.addEventListener("click",W);e.addEventListener("mouseover",U);e.addEventListener("mouseleave",V);e.removeEventListener("click",B);e.classList.add("curserPointer");h[a][c][0]=1;b.push([a,c])}f===k.carrier?(M=!0,l++,document.getElementById("carrier").classList.add("hidden")):f===k.battleship?(N=!0,l++,document.getElementById("battleship").classList.add("hidden")):f===k.cruiser?"cruiser"===r?(O=!0,l++,document.getElementById("cruiser").classList.add("hidden")):
"submarine"===r&&(P=!0,l++,document.getElementById("submarine").classList.add("hidden")):f===k.destroyer&&(Q=!0,l++,document.getElementById("destroyer").classList.add("hidden"));if(5===l)for(document.getElementById("downArrow").classList.add("notDisplayed"),document.getElementById("leftList").classList.remove("notDisplayed"),document.getElementById("ships").classList.add("notDisplayed"),window.modal("All ships Placed!",1500),y=!0,window.gameStarted=!0,a=0;10>a;a++)for(c=0;10>c;c++)e=document.getElementById("c"+
a+c),e.removeEventListener("mouseleave",aa),e.removeEventListener("click",W),e.removeEventListener("mouseover",U),e.removeEventListener("mouseleave",V),e.classList.remove("curserPointer");f=0;L.push(b)}},t=function(b,a,c){return z(b,a)&&h[b][a][1]===c},ra=function(){if(G&&H&&I&&J&&K){document.getElementById("losstext").style.display="block";window.gameOver=!0;qa();window.sleep(1500).then(function(){return window.modal("HA HA! I WIN!",2E3)});var b=window.compWinsOnLoad()+1;window.setCookie("compwinsBattleship",
b,.25);document.getElementById("compWins").textContent="Computer Wins: "+b}},sa=function(){var b=g,a=p;if("ver"===q){if(9>=b+1&&ca(b+1,a,!0))return;if(9<b+1||C(b+1,a)){for(var c=1;10>c&&!(0>b-c||3===h[b-c][a][0]||4===h[b-c][a][0]);c++){if(w(b-c,a)){D(b-c,a);return}if(E(b-c,a)){F(b-c,a);return}}m=0;q=""}}if("hor"===q){if(9>=a+1&&ca(b,a+1,!1))return;if(9<a+1||C(b,a+1)){for(c=1;10>c&&!(0>a-c||3===h[b][a-c][0]||4===h[b][a-c][0]);c++){if(w(b,a-c)){D(b,a-c);return}if(E(b,a-c)){F(b,a-c);return}}m=0;q=""}}if(0===
X){if(0===m&&""===q)if(9<b+1)m++;else if(x(b+1,a,"ver",1))return;if(1===m&&""===q)if(9<a+1)m++;else if(x(b,a+1,"hor",1))return}else{if(0===m&&""===q)if(9<a+1)m++;else if(x(b,a+1,"hor",1))return;if(1===m&&""===q)if(9<b+1)m++;else if(x(b+1,a,"ver",1))return}if(2===m&&""===q)if(0>b-1)m++;else if(x(b-1,a,"ver",-1))return;3<=m&&""===q&&x(b,a-1,"hor",-1)},ca=function(b,a,c){return w(b,a)?(D(b,a),!0):E(b,a)?(F(b,a),c?g++:p++,!0):!1},x=function(b,a,c,e){if(w(b,a))return D(b,a),m++,!0;if(E(b,a))return F(b,
a),q=c,m=0,"ver"===c?g+=e:p+=e,!0;m++;return!1},w=function(b,a){return z(b,a)&&0===h[b][a][0]},E=function(b,a){return z(b,a)&&1===h[b][a][0]},v=function(b,a){return z(b,a)&&2===h[b][a][0]},C=function(b,a){return z(b,a)&&1<h[b][a][0]},F=function(b,a){document.getElementById("c"+b+a).classList.remove("blackBackground");document.getElementById("c"+b+a).classList.add("redBackground");h[b][a][0]=2;d++;S++},D=function(b,a){document.getElementById("c"+b+a).classList.remove("blackBackground");document.getElementById("c"+
b+a).classList.add("missBackground");h[b][a][0]=3;S++},da=function(){var b,a;if(6>S||0===window.randomIntFromInterval(0,11)){do b=window.randomIntFromInterval(0,9),a=window.randomIntFromInterval(0,9);while(0!=b%2&&0===a%2||0===b%2&&0!=a%2||[3,4,5,6].includes(b)||[3,4,5,6].includes(a))}else{a=$jscomp.makeIterator(ta());b=a.next().value;a=a.next().value;for(var c=0;10>c;c++)for(var e=0;10>e;e++)u[c][e]=0}g=b;p=a;w(b,a)?D(b,a):E(b,a)?F(b,a):C(b,a)&&da()},ua=function(){if(!window.gameOver&&window.gameStarted)if(y){0<
d?sa():da();for(var b=0;10>b;b++)for(var a=0;10>a;a++)v(b,a)&&document.getElementById(h[b][a][1]+"Sunk_cpu").classList.add("hitText");for(var c=a=b=0,e=0,g=0,n=0;10>n;n++)for(var f=0;10>f;f++)!G&&t(n,f,"carrier")&&v(n,f)?b++:!H&&t(n,f,"battleship")&&v(n,f)?a++:!I&&t(n,f,"cruiser")&&v(n,f)?c++:!J&&t(n,f,"submarine")&&v(n,f)?e++:!K&&t(n,f,"destroyer")&&v(n,f)&&g++;b===k.carrier&&(G=!0,A(5,"carrier"));a===k.battleship&&(H=!0,A(4,"battleship"));c===k.cruiser&&(I=!0,A(3,"cruiser"));e===k.submarine&&(J=
!0,A(3,"submarine"));g===k.destroyer&&(K=!0,A(2,"destroyer"));ra()}else window.modal("Place all ships!",1400)},ta=function(){var b=[],a=0;G||b.push(k.carrier);H||b.push(k.battleship);J||b.push(k.submarine);I||b.push(k.cruiser);K||b.push(k.destroyer);for(var c=0;c<b.length;c++){for(var e=0;10>e;e++)for(var d=0;d<10-b[c]+1;d++){for(var f=0;f<b[c];f++)C(e,d+f)||a++;if(a===b[c])for(a=0;a<b[c];a++)u[e][d+a]++;a=0}for(e=0;10>e;e++)for(d=0;d<10-b[c]+1;d++){for(f=0;f<b[c];f++)C(d+f,e)||a++;if(a===b[c])for(a=
0;a<b[c];a++)u[d+a][e]++;a=0}}b=0;c=[];for(a=0;10>a;a++)for(e=0;10>e;e++)u[a][e]===b?c.push([a,e]):u[a][e]>b&&(b=u[a][e],c=[],c.push([a,e]));return c[window.randomIntFromInterval(0,c.length-1)]},qa=function(){for(var b=0;10>b;b++)for(var a=0;10>a;a++)1===window.exportedGameBoard[b][a][0]&&window.addClassFromElementById("s"+b+a,"blackBackground")},va=function(){window.addClassFromElementById("rotateArrow","rotateAnimation");window.removeClassFromElementById("rotateArrow","rotateBackAnimation")},wa=
function(){window.removeClassFromElementById("rotateArrow","rotateAnimation");window.addClassFromElementById("rotateArrow","rotateBackAnimation")};(function(){window.compMoveWindow=ua;for(var b=0;10>b;b++){h.push([]);u.push([]);for(var a=0;10>a;a++){u[b].push(0);h[b].push([0,""]);var c=document.createElement("div");ea.appendChild(c);c.id="c"+a+b;var d=50*b+5;c.style.top=50*a+5+"px";c.style.left=d+"px";c.style.backgroundColor="#80aaff";c.addEventListener("mouseover",T);c.addEventListener("mouseleave",
aa)}}la.forEach(function(a){return a.addEventListener("click",pa)});window.addEventListenerById("rotate","mouseover",va);window.addEventListenerById("rotate","mouseleave",wa);window.addEventListenerById("rotate","click",na);document.getElementById("compWins").textContent="Computer Wins: "+window.compWinsOnLoad();document.addEventListener("keydown",function(a){192===a.keyCode&&console.log(h)});"Y"===window.getCookie("darkMode")?window.setDarkMode():window.removeDarkMode()})()})();
