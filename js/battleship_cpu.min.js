var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,f){if(f.get||f.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[g]=f.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var g=0;return $jscomp.iteratorPrototype(function(){return g<d.length?{done:!1,value:d[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var g=d[Symbol.iterator];return g?g.call(d):$jscomp.arrayIterator(d)};
$jscomp.checkStringArgs=function(d,g,f){if(null==d)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return d+""};
$jscomp.polyfill=function(d,g,f,m){if(g){f=$jscomp.global;d=d.split(".");for(m=0;m<d.length-1;m++){var p=d[m];p in f||(f[p]={});f=f[p]}d=d[d.length-1];m=f[d];g=g(m);g!=m&&null!=g&&$jscomp.defineProperty(f,d,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("String.prototype.includes",function(d){return d?d:function(d,f){return-1!==$jscomp.checkStringArgs(this,d,"includes").indexOf(d,f||0)}},"es6-impl","es3");
(function(){function d(){if(F&&w){document.getElementById("downArrow").classList.add("notDisplayed");document.getElementById("leftList").classList.remove("notDisplayed");document.getElementById("ships").classList.add("notDisplayed");document.getElementById("startGame").classList.add("notDisplayed");document.getElementById("strtOvrBtn").classList.remove("notDisplayed");window.modal("Game on!",1500);window.gameStarted=!0;for(var a=0;10>a;a++)for(var b=0;10>b;b++){var c=document.getElementById("c"+a+
b);c.removeEventListener("mouseleave",Y);c.removeEventListener("click",N);c.removeEventListener("mouseover",O);c.removeEventListener("mouseleave",P);c.classList.remove("curserPointer")}}}var g=window.randomIntFromInterval(0,1),f=0,m,p,u,k,Q="hor",R=0,G=0,n="",v=0,F=!1,S=!1,T=!1,U=!1,V=!1,W=!1,w=!1,H=!1,I=!1,J=!1,K=!1,L=!1,h=[],fa=document.getElementById("gameboard_cpu"),ga=document.getElementById("carrier"),ha=document.getElementById("battleship"),ia=document.getElementById("cruiser"),ja=document.getElementById("submarine"),
ka=document.getElementById("destroyer"),la=new Audio("sounds/Ship Sunk Sound.mp3"),M=[],ma=[ga,ha,ia,ja,ka],l={battleship:4,carrier:5,cruiser:3,destroyer:2,submarine:3},Z="Found You!;You're Sunk!;Down she goes!;Gotcha!;Ha Ha!;I'm the best!;Woo Hoo!;I'm Better!;I'm gonna win!;Easy!;Sink that ship!;Try Harder!;Yawn...;Sunk!;Oh Yeah!;You're Gonna Lose!;Really? Easy..;Yes!!;So Easy!;Child's Play!;:)".split(";"),y=function(a,b){return 0<=a&&10>a&&0<=b&&10>b},na=function(a){return a.charAt(0).toUpperCase()+
a.slice(1)},z=function(a,b){la.play();document.getElementById(b+"Sunk_cpu").classList.remove("hitText");document.getElementById(b+"Sunk_cpu").classList.add("sunkText");for(var c=0;10>c;c++)for(var e=0;10>e;e++)q(c,e,b)&&r(c,e)&&(window.addClassFromElementById("c"+c+e,"darkRedBackground"),window.removeClassFromElementById("c"+c+e,"redBackground"));G-=a;n="";g=window.randomIntFromInterval(0,1);for(c=0;10>c;c++)for(e=0;10>e;e++)q(c,e,b)&&(h[c][e][0]=4);0===window.randomIntFromInterval(0,10)?window.modal(na(b)+
" Sunk!",1500):window.modal(Z[window.randomIntFromInterval(0,Z.length-1)],1500);if(0<G)a:for(c=0;10>c;c++)for(e=0;10>e;e++)if(r(c,e)){m=c;p=e;break a}},oa=function(){for(var a=0;10>a;a++)for(var b=0;10>b;b++)"hor"===Q?(document.getElementById("c"+a+b).removeEventListener("mouseover",X),document.getElementById("c"+a+b).addEventListener("mouseover",aa)):(document.getElementById("c"+a+b).removeEventListener("mouseover",aa),document.getElementById("c"+a+b).addEventListener("mouseover",X));Q="hor"===Q?
"ver":"hor"},aa=function(a){for(var b=a.target.id,c=!0,e=0;e<k;e++)if(!t(Number(b[1])+e,Number(b[2]))){c=!1;break}if(Number(b[1])<11-k&&c)for(a.target.addEventListener("click",A),a=0;a<k;a++)document.getElementById(b[0]+(Number(b[1])+a)+b[2]).classList.add("blackBackground");else a.target.removeEventListener("click",A)},X=function(a){for(var b=a.target.id,c=!0,e=0;e<k;e++)if(!t(Number(b[1]),Number(b[2])+e)){c=!1;break}if(Number(b[2])<11-k&&c)for(a.target.addEventListener("click",A),a=0;a<k;a++)document.getElementById(b[0]+
b[1]+(Number(b[2])+a)).classList.add("blackBackground");else a.target.removeEventListener("click",A)},Y=function(){for(var a=0;10>a;a++)for(var b=0;10>b;b++)t(a,b)&&(document.getElementById("c"+a+b).classList.remove("blackBackground"),document.getElementById("c"+a+b).classList.remove("greyBackground"))},N=function(a){if(0===k&&!window.gameStarted){var b,c=Number(a.target.id[1]),e=Number(a.target.id[2]),d=$jscomp.makeIterator(h[c][e]);d.next();d=d.next().value;switch(d){case "carrier":S=!1;break;case "battleship":T=
!1;break;case "cruiser":U=!1;break;case "submarine":V=!1;break;case "destroyer":W=!1}k=l[d];u=d;document.getElementById(d).classList.remove("hidden");ba.forEach(function(a){return document.getElementById(a).classList.remove("clicked")});document.getElementById(d).classList.add("clicked");v--;for(var d=$jscomp.makeIterator(M),f=d.next();!f.done;f=d.next())for(var f=f.value,ca=$jscomp.makeIterator(f),g=ca.next();!g.done;g=ca.next())if(g=g.value,g[0]===c&&g[1]===e){b=f;break}b.forEach(function(a){var b=
document.getElementById("c"+a[0]+a[1]);b.removeEventListener("mouseover",O);b.removeEventListener("mouseleave",P);b.removeEventListener("click",N);b.classList.remove("curserPointer");h[a[0]][a[1]][0]=0;h[a[0]][a[1]][1]=""});M.splice(M.indexOf(b),1);pa();F=w=!1;document.getElementById("startGame").classList.contains("notDisplayed")||document.getElementById("startGame").classList.add("notDisplayed")}a.stopImmediatePropagation()},ba=["carrier","battleship","cruiser","submarine","destroyer"],qa=function(a){if(!w){var b=
a.target.parentElement.id;document.getElementById(b).classList.contains("clicked")?(document.getElementById(b).classList.remove("clicked"),k=0):(ba.forEach(function(a){return document.getElementById(a).classList.remove("clicked")}),"carrier"!==b||S)?"battleship"!==b||T?"cruiser"!==b||U?"submarine"!==b||V?"destroyer"!==b||W||(k=l[b],a.target.parentElement.classList.add("clicked")):(k=l[b],a.target.parentElement.classList.add("clicked"),u="submarine"):(k=l[b],a.target.parentElement.classList.add("clicked"),
u="cruiser"):(k=l[b],a.target.parentElement.classList.add("clicked")):(k=l[b],a.target.parentElement.classList.add("clicked"))}},O=function(a){if(0===k){a=$jscomp.makeIterator(h[Number(a.target.id[1])][Number(a.target.id[2])]);a.next();a=a.next().value;for(var b=0;10>b;b++)for(var c=0;10>c;c++)q(b,c,a)&&(document.getElementById("c"+b+c).classList.remove("blackBackground"),document.getElementById("c"+b+c).classList.add("greyBackground"))}},P=function(a){a=$jscomp.makeIterator(h[Number(a.target.id[1])][Number(a.target.id[2])]);
a.next();a=a.next().value;for(var b=0;10>b;b++)for(var c=0;10>c;c++)q(b,c,a)&&(document.getElementById("c"+b+c).classList.add("blackBackground"),document.getElementById("c"+b+c).classList.remove("greyBackground"))},pa=function(){for(var a=0;10>a;a++)for(var b=0;10>b;b++)document.getElementById("c"+a+b).classList.contains("greyBackground")&&(document.getElementById("c"+a+b).classList.add("blackBackground"),document.getElementById("c"+a+b).classList.remove("greyBackground"))},A=function(){if(!F&&!w){for(var a=
[],b=0;10>b;b++)for(var c=0;10>c;c++)if(document.getElementById("c"+b+c).classList.contains("blackBackground")&&""===h[b][c][1]){k===l.carrier?h[b][c][1]="carrier":k===l.battleship?h[b][c][1]="battleship":k===l.cruiser&&"cruiser"===u?h[b][c][1]="cruiser":k===l.submarine&&"submarine"===u?h[b][c][1]="submarine":k===l.destroyer&&(h[b][c][1]="destroyer");var e=document.getElementById("c"+b+c);e.addEventListener("click",N);e.addEventListener("mouseover",O);e.addEventListener("mouseleave",P);e.removeEventListener("click",
A);e.classList.add("curserPointer");h[b][c][0]=1;a.push([b,c])}k===l.carrier?(S=!0,v++,document.getElementById("carrier").classList.add("hidden")):k===l.battleship?(T=!0,v++,document.getElementById("battleship").classList.add("hidden")):k===l.cruiser?"cruiser"===u?(U=!0,v++,document.getElementById("cruiser").classList.add("hidden")):"submarine"===u&&(V=!0,v++,document.getElementById("submarine").classList.add("hidden")):k===l.destroyer&&(W=!0,v++,document.getElementById("destroyer").classList.add("hidden"));
5===v&&(w=F=!0,document.getElementById("startGame").classList.remove("notDisplayed"),document.getElementById("instructions").innerHTML="<b>Placed ships can be moved before starting!</b>");k=0;M.push(a)}},q=function(a,b,c){return y(a,b)&&h[a][b][1]===c},sa=function(){if(H&&I&&J&&K&&L){document.getElementById("losstext").style.display="block";window.gameOver=!0;ra();window.sleep(1500).then(function(){return window.modal("HA HA! I WIN!",2E3)});var a=window.compWinsOnLoad()+1;window.setCookie("compwinsBattleship",
a,.25);document.getElementById("compWins").textContent="Computer Wins: "+a}},ta=function(){var a=m,b=p;if("ver"===n){if(9>=a+1&&da(a+1,b,!0))return;if(9<a+1||B(a+1,b)){for(var c=1;10>c&&!(0>a-c||3===h[a-c][b][0]||4===h[a-c][b][0]);c++){if(t(a-c,b)){C(a-c,b);return}if(D(a-c,b)){E(a-c,b);return}}f=0;n=""}}if("hor"===n){if(9>=b+1&&da(a,b+1,!1))return;if(9<b+1||B(a,b+1)){for(c=1;10>c&&!(0>b-c||3===h[a][b-c][0]||4===h[a][b-c][0]);c++){if(t(a,b-c)){C(a,b-c);return}if(D(a,b-c)){E(a,b-c);return}}f=0;n=""}}if(0===
g){if(0===f&&""===n)if(9<a+1)f++;else if(x(a+1,b,"ver",1))return;if(1===f&&""===n)if(9<b+1)f++;else if(x(a,b+1,"hor",1))return}else{if(0===f&&""===n)if(9<b+1)f++;else if(x(a,b+1,"hor",1))return;if(1===f&&""===n)if(9<a+1)f++;else if(x(a+1,b,"ver",1))return}if(2===f&&""===n)if(0>a-1)f++;else if(x(a-1,b,"ver",-1))return;3<=f&&""===n&&x(a,b-1,"hor",-1)},da=function(a,b,c){return t(a,b)?(C(a,b),!0):D(a,b)?(E(a,b),c?m++:p++,!0):!1},x=function(a,b,c,e){if(t(a,b))return C(a,b),f++,!0;if(D(a,b))return E(a,
b),n=c,f=0,"ver"===c?m+=e:p+=e,!0;f++;return!1},t=function(a,b){return y(a,b)&&0===h[a][b][0]},D=function(a,b){return y(a,b)&&1===h[a][b][0]},r=function(a,b){return y(a,b)&&2===h[a][b][0]},B=function(a,b){return y(a,b)&&1<h[a][b][0]},E=function(a,b){document.getElementById("c"+a+b).classList.remove("blackBackground");document.getElementById("c"+a+b).classList.add("redBackground");h[a][b][0]=2;G++;R++},C=function(a,b){document.getElementById("c"+a+b).classList.remove("blackBackground");document.getElementById("c"+
a+b).classList.add("missBackground");h[a][b][0]=3;R++},ea=function(){var a,b;if(4>R||0===window.randomIntFromInterval(0,12)){do a=window.randomIntFromInterval(0,9),b=window.randomIntFromInterval(0,9);while(0!=a%2&&0===b%2||0===a%2&&0!=b%2||[3,4,5,6].includes(a)||[3,4,5,6].includes(b))}else b=$jscomp.makeIterator(ua()),a=b.next().value,b=b.next().value;m=a;p=b;t(a,b)?C(a,b):D(a,b)?E(a,b):B(a,b)&&ea()},va=function(){if(!window.gameOver&&window.gameStarted)if(w){0<G?ta():ea();for(var a=0;10>a;a++)for(var b=
0;10>b;b++)r(a,b)&&document.getElementById(h[a][b][1]+"Sunk_cpu").classList.add("hitText");for(var c=b=a=0,e=0,d=0,f=0;10>f;f++)for(var g=0;10>g;g++)!H&&q(f,g,"carrier")&&r(f,g)?a++:!I&&q(f,g,"battleship")&&r(f,g)?b++:!J&&q(f,g,"cruiser")&&r(f,g)?c++:!K&&q(f,g,"submarine")&&r(f,g)?e++:!L&&q(f,g,"destroyer")&&r(f,g)&&d++;a===l.carrier&&(H=!0,z(5,"carrier"));b===l.battleship&&(I=!0,z(4,"battleship"));c===l.cruiser&&(J=!0,z(3,"cruiser"));e===l.submarine&&(K=!0,z(3,"submarine"));d===l.destroyer&&(L=!0,
z(2,"destroyer"));sa()}else window.modal("Place all ships!",1400)},ua=function(){for(var a=[],b=[],c=0;10>c;c++){b.push([]);for(var e=0;10>e;e++)b[c].push(0)}e=0;H||a.push(l.carrier);I||a.push(l.battleship);K||a.push(l.submarine);J||a.push(l.cruiser);L||a.push(l.destroyer);for(c=0;c<a.length;c++){for(var d=0;10>d;d++)for(var f=0;f<10-a[c]+1;f++){for(var g=0;g<a[c];g++)B(d,f+g)||e++;if(e===a[c])for(e=0;e<a[c];e++)b[d][f+e]++;e=0}for(d=0;10>d;d++)for(f=0;f<10-a[c]+1;f++){for(g=0;g<a[c];g++)B(f+g,d)||
e++;if(e===a[c])for(e=0;e<a[c];e++)b[f+e][d]++;e=0}}a=0;c=[];for(e=0;10>e;e++)for(d=0;10>d;d++)b[e][d]===a?c.push([e,d]):b[e][d]>a&&(a=b[e][d],c=[],c.push([e,d]));return c[window.randomIntFromInterval(0,c.length-1)]},ra=function(){for(var a=0;10>a;a++)for(var b=0;10>b;b++)1===window.exportedGameBoard[a][b][0]&&window.addClassFromElementById("s"+a+b,"blackBackground")},wa=function(){window.addClassFromElementById("rotateArrow","rotateAnimation");window.removeClassFromElementById("rotateArrow","rotateBackAnimation")},
xa=function(){window.removeClassFromElementById("rotateArrow","rotateAnimation");window.addClassFromElementById("rotateArrow","rotateBackAnimation")};(function(){window.compMoveWindow=va;for(var a=0;10>a;a++){h.push([]);for(var b=0;10>b;b++){h[a].push([0,""]);var c=document.createElement("div");fa.appendChild(c);c.id="c"+b+a;var e=50*a+5;c.style.top=50*b+5+"px";c.style.left=e+"px";c.style.backgroundColor="#80aaff";c.addEventListener("mouseover",X);c.addEventListener("mouseleave",Y)}}ma.forEach(function(a){return a.addEventListener("click",
qa)});window.addEventListenerById("rotate","mouseover",wa);window.addEventListenerById("rotate","mouseleave",xa);window.addEventListenerById("rotate","click",oa);window.addEventListenerById("startGame","click",d);document.getElementById("compWins").textContent="Computer Wins: "+window.compWinsOnLoad();document.addEventListener("keydown",function(a){192===a.keyCode&&console.log(h)});"Y"===window.getCookie("darkMode")?window.setDarkMode():window.removeDarkMode()})()})();
